(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/starAuth"],{"0303":function(e,t,n){},"10e8":function(e,t,n){"use strict";n.r(t);var i=n("1430"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},1430:function(e,t,n){"use strict";(function(e){var i=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("3b2d")),o=i(n("7ca3")),r=n("e86d");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var s={data:function(){return{id:"",starLevel:1,auditStatus:0,disabled:!1,uploadHeader:{},industry:{},sex:{},identityType:{},showArea:!1,address:{province:"",city:"",region:"",area:"",detail:""},model:{gender:"",province:"",city:"",industry:"",beGoodAt:"",work:"",education:"",wannaMeet:""},planList:[],model2:{plan:""},planVideoList:[],model3:{identityType:"",idCardName:"",idCardImage:"",planVideo:""},personalInfoList:[],model4:{personalMaterialsImage:""},businessList:[],investList:[],model5:{businessMaterialsImage:"",investMaterialsImage:""},endDateText:"",tabsIndex:0,tabsList:[{id:1,name:"✦"},{id:2,name:"✦✦"},{id:3,name:"✦✦✦"},{id:4,name:"✦✦✦✦"},{id:5,name:"✦✦✦✦✦"}]}},onLoad:function(e){this.initData()},methods:{initData:function(){this.uploadHeader={Token:this._token||""},this.industry=this.$u.deepClone(r.industryData),this.sex=this.$u.deepClone(r.sexData),this.identityType=this.$u.deepClone(r.identityTypeData),this.getStarAuthInfo()},btnSubmit:function(t){var n=this,i={};i=1===t?this.model:this["model"+t],this.$api.starAuth(this.tabsIndex+1,i).then((function(t){n.$u.toast("提交成功"),e.navigateBack({delta:1})}))},getStarAuthInfo:function(){var e=this;this.$api.getStarAuthInfo().then((function(t){var n=t.data;n&&(e.id=n.id,e.auditStatus=n.auditStatus,e.starLevel=n.starLevel,e.initModelData(n,e.model),e.initFileData(n,e.model2,"plan","planList"),e.initFileData(n,e.model3,"planVideo","planVideoList"),e.initFileData(n,e.model4,"personalMaterialsImage","personalInfoList"),e.initFileData(n,e.model5,"businessMaterialsImage","businessList"),e.initFileData(n,e.model5,"investMaterialsImage","investList"))}))},initFileData:function(e,t,n,i){var a=[];e[n]&&(a=e[n].split(",").map((function(e){return{type:2,url:e}}))),this[i]=a},initModelData:function(e,t){for(var n in t)t[n]=e[n];this.initSelectData(this.industry,this.model.industry),this.initSelectData(this.sex,this.model.gender),this.initAddressData(this.model.city)},initSelectData:function(e,t){if(""!==t){var n=e.list.find((function(e){return e.value==t}));e.label=n.label}},initAddressData:function(e){""!==e&&(this.address.area=this.model.province+" "+this.model.city)},onVideoSuccess:function(e,t,n){var i=e.map((function(e){return e.url}));this[t][n]=i.length>0?i.join(","):""},onSuccess:function(e,t,n,i,a){var o=e.data.url,r=this.model[a],u=[];r&&(u=r.split(",")),u.push(o);var s=u.join(",");this.setDataVal(a,s)},onRemove:function(e,t,n,i){var a=this.model[i],o=[];a&&(o=a.split(",")),o.splice(e,1),this.model[i]=o.join(",")},onFileSuccess:function(e,t,n){var i=e.map((function(e){return e.url}));this[t][n]=i.length>0?i.join(","):""},changeTabs:function(e){this.tabsIndex=e},changeSelect:function(e,t,n){var i=e[0];this[t].label=i.label,this.model[n]=i.value},changeEndDate:function(e){this.endDateText=e.result},confirmArea:function(e){var t=e.province,n=e.city,i=e.area;this.address.province=t.label,this.address.city=n.label,this.address.region=i.label,this.address.area=t.label+" "+n.label,this.model.province=t.label,this.model.city=n.label},reloadDetailData:function(e){var t=getCurrentPages(),n=t[t.length-2];n.$vm.reloadData(e)},setDataVal:function(e,t){for(var n=e.split("."),i=n.shift(),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this[i]),s=0;s<n.length-1;s++){var l=n[s];if(void 0===r[l]||"object"!==(0,a.default)(r[l]))throw new Error("无法设置值，属性路径中的某些属性不存在或不是对象");r=r[l]}var d=n[n.length-1];r[d]=t;this[i]=r}}};t.default=s}).call(this,n("df3c")["default"])},"197a":function(e,t,n){},6077:function(e,t,n){"use strict";var i=n("197a"),a=n.n(i);a.a},"9e56":function(e,t,n){"use strict";n.r(t);var i=n("c818"),a=n("10e8");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("d58e"),n("6077");var r=n("828b"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"e0641bfa",null,!1,i["a"],void 0);t["default"]=u.exports},c818:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"6960"))},uForm:function(){return n.e("uview-ui/components/u-form/u-form").then(n.bind(null,"e5eb"))},uFormItem:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-form-item/u-form-item")]).then(n.bind(null,"d9a88"))},uInput:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-input/u-input")]).then(n.bind(null,"6d0a"))},submitStarAuth:function(){return n.e("components/submit-star-auth/submit-star-auth").then(n.bind(null,"f6ed"))},uploadVideo:function(){return n.e("components/upload-video/upload-video").then(n.bind(null,"2078"))},uUpload:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-upload/u-upload")]).then(n.bind(null,"811f"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"32bb"))},uSelect:function(){return n.e("uview-ui/components/u-select/u-select").then(n.bind(null,"8d7e"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"02cb"))}},a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.sex.show=!0},e.e1=function(t){e.showArea=!0},e.e2=function(t){e.industry.show=!0},e.e3=function(t){e.identityType.show=!0},e.e4=function(t,n,i,a){return e.onSuccess(t,n,i,a,"model3.idCardImage")},e.e5=function(t,n,i,a){return e.onRemove(t,n,i,"image")},e.e6=function(t,n,i,a){return e.onSuccess(t,n,i,a,"model3.idCardImage2")},e.e7=function(t,n,i,a){return e.onRemove(t,n,i,"image")})},o=[]},d58e:function(e,t,n){"use strict";var i=n("0303"),a=n.n(i);a.a},fa46:function(e,t,n){"use strict";(function(e,t){var i=n("47a9");n("4208"),n("e230");i(n("3240"));var a=i(n("9e56"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])}},[["fa46","common/runtime","common/vendor"]]]);